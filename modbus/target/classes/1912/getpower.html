<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" style="height: 100%;">
<head>
  <meta charset="utf-8">
  <title>东莞格力群控系统</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">
  <link href="https://fonts.googleapis.com/css?family=Ruda:400,900,700" rel="stylesheet">
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/prettyphoto/css/prettyphoto.css" rel="stylesheet">
  <link href="lib/hover/hoverex-all.css" rel="stylesheet">
  <link href="lib/jetmenu/jetmenu.css" rel="stylesheet">
  <link href="lib/owl-carousel/owl-carousel.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/colors/blue.css">
  <link rel="stylesheet" href="css/mui.min.css">

  <script>
      /*
      (function(){
        var date = new Date();   
        var year = date.getFullYear();    //获取当前年份   
        var mon = date.getMonth()+1;      //获取当前月份   
        var da = date.getDate();          //获取当前日   
        var day = date.getDay();          //获取当前星期几   
        var h = date.getHours();          //获取小时   
        var m = date.getMinutes();        //获取分钟   
        var s = date.getSeconds();        //获取秒   
        var m1=[],k,yt=[];
       for(k=1;k<=1;k++){
        if(mon-k<=0) {m1[k] = mon+12-k;yt[k]=year-1}
        else {m1[k] = mon-k;  yt[k]=year}
        */
        document.getElementById("last"+k).innerHTML = yt[k]+"-"+m1[k]+"用电";
      
    //})();
   </script>
   <script>
    setInterval(function(){   
        var date = new Date();   
        var year = date.getFullYear();    //获取当前年份   
        var mon = date.getMonth()+1;      //获取当前月份   
        var da = date.getDate();          //获取当前日   
        var day = date.getDay();          //获取当前星期几   
        var h = date.getHours();          //获取小时   
        var m = date.getMinutes();        //获取分钟   
        var s = date.getSeconds();        //获取秒   
        var d = document.getElementById('Date');  
        switch(day){
            case 0 : day = "日"; break;
            case 1 : day = "一"; break;
            case 2 : day = "二"; break;
            case 3 : day = "三"; break;
            case 4 : day = "四"; break;
            case 5 : day = "五"; break;
            case 6 : day = "六"; 
        } 
        //var tem;
       // tem = mom - 1;
       
       //document.getElementById("last"+4).innerHTML = year-1+"-"+mon+"用电";
        d.innerHTML= '北京时间： '+ year+' 年 '+mon+' 月 '+da+' 日  '+'  星期'+day+'   '+h+':'+m+':'+s;  
    },1000)
</script>
<script src="lib/jquery/jquery.min.js"></script>
<script src="js/echarts-all.js"></script>


<style type="text/css">
			.hor-minimalist-a{	
				font-family: "Lucida Sans Unicode", "Lucida Grande", Sans-Serif;
				font-size: 12px;	
				background: #fff;	
				width:100%;	
				border-collapse: collapse;	
				text-align: left;
			}
			.hor-minimalist-a th{	
				font-size: 14px;	
				font-weight: normal;	
				color: #039;	
				padding: 10px 8px;	
				border-bottom: 2px solid #6678b1;
			}
			.hor-minimalist-a td{	
				color: #669;	
				padding: 9px 8px 0px 8px;
			}
			#hor-minimalist-a tbody tr:hover td{	
				color: #009;
			}
		
</style>
</head>
<body style="width: 1920px;">
    <header class="header" style="margin: 0;background-color: rgb(9, 136, 240);">
        <p id="Date" style="color: aliceblue;text-align: right;margin-right: 20px;height: 20px;"> </p>
        <div class="container" style="margin: 0;width: 100%;position: relative;" >    
            <div class="col-lg-9 col-md-12 col-sm-12" style="float: left;width: 40%;margin-left: -50px;">
              <div id="nav" class="right" style="position: relative;">
                <div  class="container clearfix">
                  <ul  id="jetmenu" class="jetmenu blue" >
                    <li ><a style="color: aliceblue;" href="/index">监控中心</a>
                    </li>
                    <li ><a style="color: aliceblue;" href="/TrendAnalysis">趋势分析</a>
                    </li>
                    <li class="active"><a style="color: aliceblue;" href="/power">能耗统计</a>
                    </li>
                    <li><a style="color: aliceblue;" href="/log.html">异常信息</a>
                    </li>
                    <li><a style="color: aliceblue;" href="#">定时设置</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
    
            <div class="col-lg-3 col-md-3 col-sm-12 title-area" style="width: 40%;margin: 0 auto;">
              <div class="site-title" id="title">
              <a href="index" title="">
                  <h1 style="color: aliceblue;">东莞格力中央空调群控系统</h1>
              </a>
              </div>
           </div>
        </div>
        <p class="mui-progressbar mui-progressbar-infinite"></p>
      </header>

      <div class="mui-content-padded">
        <h5>设备耗电量(千瓦时)</h5>
        <table class="hor-minimalist-a" summary="Employee Pay Sheet" style="margin: 0;">
            <thead>
                <tr>
                    <th scope="col">设备</th>
                    <th scope="col">今日用电</th>
                    <th scope="col">本周用电</th>
                    <th scope="col">本月用电</th>
                    <th scope="col">上月用电</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>水泵电机1</td><td id="wp1_day_power">0</td> <td id="wp1_week_power">0</td><td id="wp1_mon_power">0</td><td id="wp1_lmon_power">0</td>
                </tr>
                <tr>
                    <td>水泵电机2</td><td id="wp2_day_power">0</td> <td id="wp2_week_power">0</td><td id="wp2_mon_power">0</td><td id="wp2_lmon_power">0</td>
                </tr>
                <tr>
                    <td>水泵电机3</td><td id="wp3_day_power">0</td> <td id="wp3_week_power">0</td><td id="wp3_mon_power">0</td><td id="wp3_lmon_power">0</td>
                </tr>
               
                <tr>
                    <td>机组1</td><td>0</td><td>0</td><td>0</td><td>0</td>
                </tr>
                <tr>
                    <td>机组2</td><td>0</td><td>0</td><td>0</td><td>0</td>
                </tr>
                <tr>
                    <td>空调</td><td>0</td><td>0</td><td>0</td><td>0</td>
                </tr>                
                <tr>
                    <td>合计</td><td id="day_power">0</td><td id="week_power">0</td><td id="mon_power">0</td><td id="lmon_power">0</td>
                </tr>                

            </tbody>
        </table> 
      </div>

      <div id="power22" style="width: 100%;height: 100%;"></div>

       <script type="text/javascript" src="js/echarts-all.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("power22");
var myChart = echarts.init(dom);
var app = {};
option = null;

//setTimeout(function () {

    option = {
        legend: {},
        tooltip: {
            trigger: 'axis',
            showContent: false
        },
        dataset: {
            source: [
                ['product', '2012', '2013', '2014', '2015', '2016', '2017'],
                ['Matcha Latte', 41.1, 30.4, 65.1, 53.3, 83.8, 98.7],
                ['Milk Tea', 86.5, 92.1, 85.7, 83.1, 73.4, 55.1],
                ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4, 65.2, 82.5],
                ['Walnut Brownie', 55.2, 67.1, 69.2, 72.4, 53.9, 39.1]
            ]
        },
        xAxis: {type: 'category'},
        yAxis: {gridIndex: 0},
        grid: {top: '55%'},
        series: [
            {type: 'line', smooth: true, seriesLayoutBy: 'row'},
            {type: 'line', smooth: true, seriesLayoutBy: 'row'},
            {type: 'line', smooth: true, seriesLayoutBy: 'row'},
            {type: 'line', smooth: true, seriesLayoutBy: 'row'},
            {
                type: 'pie',
                id: 'pie',
                radius: '30%',
                center: ['50%', '25%'],
                label: {
                    formatter: '{b}: {@2012} ({d}%)'
                },
                encode: {
                    itemName: 'product',
                    value: '2012',
                    tooltip: '2012'
                }
            }
        ]
    };

    myChart.on('updateAxisPointer', function (event) {
        var xAxisInfo = event.axesInfo[0];
        if (xAxisInfo) {
            var dimension = xAxisInfo.value + 1;
            myChart.setOption({
                series: {
                    id: 'pie',
                    label: {
                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'
                    },
                    encode: {
                        value: dimension,
                        tooltip: dimension
                    }
                }
            });
        }
    });

    myChart.setOption(option);

//});;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>